{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["//Main 그리드\r\nvar dataProvider;\r\nvar gridView;\r\n\r\n//편집한 셀을 기록하기 위해 전역으로 하나 만듬\r\nvar dicEditCell;\r\n\r\nlet sUrl = \"http://localhost:8000/slip/\";\r\n\r\n$(document).ready( function() {\r\n    //초기화\r\n    dicEditCell = {};\r\n\r\n    //1. Grid컨드롤을 화면상에 올리기\r\n    createGrid();\r\n\r\n    //2. DataProvider DataFeild 만들기\r\n    setDataFields();\r\n\r\n    //3. GridView에 Columns 구성\r\n    setColumns();\r\n\r\n    //4.GridView Style 적용\r\n    //....요긴 디자인 영역\r\n    setStyles(gridView);\r\n\r\n    //5. GridView Option 수정\r\n    setOptions();\r\n    //******************************//\r\n\r\n    //6. GridView에 대한 이벤트\r\n    setGridCallbackFunc();\r\n    //******************************//\r\n\r\n    //7. Provider 에 대한 이벤트\r\n    setProviderCallbackFunc();\r\n\r\n    //8. API 통해서 DataProvider에 Data 채우기\r\n    //버튼을 클릭하면 Main Data Load.\r\n    //$(\"#btnSearch\").on(\"click\", function () {\r\n    LoadData();\r\n    //})\r\n\r\n    //삭제\r\n    $(\"#btnDelete\").click(function () {\r\n        let rows = gridView.getCheckedRows(true);\r\n        if (confirm(\"삭제하시겠습니까?\" + rows)) {\r\n            callDeleteAPI();\r\n        }\r\n    });\r\n});\r\n\r\n//기본적으로 세팅해야 그리드가 제대로 만들어짐\r\nfunction createGrid() {\r\n    var id = \"realgrid\";\r\n\r\n    RealGridJS.setTrace(false);\r\n    RealGridJS.setRootContext(\"./script\");\r\n\r\n    dataProvider = new RealGridJS.LocalDataProvider();\r\n    gridView = new RealGridJS.GridView(id);\r\n    gridView.setDataSource(dataProvider);\r\n}\r\n\r\nfunction setDataFields() {\r\n    //*** A5 컬럼-필드 연결하기 ***//\r\n    var fields = [\r\n        {\r\n            fieldName: \"sq_acttax2\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"no_acct\",\r\n            dataType: RealGridJS.DataType.TEXT,\r\n            calculateCallback: function (dataRow, fieldName, fieldNames, values) {\r\n                var no_acct = values[fieldNames.indexOf(\"no_acct\")];\r\n\r\n                if (isNaN(no_acct) || isNaN(no_acct))\r\n                    return undefined;\r\n                else\r\n                    return padLeft(no_acct, 5, '0');\r\n            }\r\n        },\r\n        {\r\n            fieldName: \"da_date\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n            //dataType: RealGridJS.DataType.DATETIME,\r\n            //datetimeFormat: \"yyyyMMdd\"\r\n        },\r\n        {\r\n            fieldName: \"day\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"cd_trade\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_trade\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"cd_remark\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_remark\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"ty_gubn\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"cd_acctit\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"key_acctit\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"nm_acctit\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"mn_bungae1\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"mn_bungae2\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"cd_deptemp\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_deptemp\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"cd_field\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_field\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"cd_pjt\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_project\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"cd_finance\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_finance\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"yn_card\",\r\n            dataType: RealGridJS.DataType.NUMBER\r\n        },\r\n        {\r\n            fieldName: \"nm_cardgb\"\r\n        },\r\n        {\r\n            fieldName: \"cd_jepum\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_jepum\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"cd_bjoh\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"nm_bjoh\",\r\n            dataType: RealGridJS.DataType.TEXT\r\n        },\r\n        {\r\n            fieldName: \"yn_use\"\r\n        },\r\n        {\r\n            fieldName: \"ty_copy\"\r\n        },\r\n        {\r\n            fieldName: \"no_exter2\"\r\n        },\r\n        {\r\n            fieldName: \"ty_bungae\"\r\n        },\r\n        {\r\n            fieldName: \"nm_memot\"\r\n        },\r\n        {\r\n            fieldName: \"nm_memo\"\r\n        },\r\n        {\r\n            fieldName: \"sq_bungae\"\r\n        },\r\n        {\r\n            fieldName: \"no_car\"\r\n        },\r\n        {\r\n            fieldName: \"no_carbody\"\r\n        },\r\n        {\r\n            fieldName: \"dt_insert\"\r\n        },\r\n        {\r\n            fieldName: \"sq_sbguid\"\r\n        }\r\n    ];\r\n    //DataProvider의 setFields함수로 필드를 입력합니다.\r\n    dataProvider.setFields(fields);\r\n}\r\n\r\nfunction setColumns() {\r\n    //*** A2 컬럼 만들기 ***//\r\n    /*\r\n    SELECT \tDISTINCT a.da_date, a.sq_acttax2,\r\n                SUBSTR(a.da_date, 1, 4) AS year,\r\n                SUBSTR(a.da_date, 5, 2) AS month,\r\n                SUBSTR(a.da_date, 7, 2) AS day,\r\n                a.cd_trade, a.nm_trade, a.cd_remark, a.nm_remark,\r\n                CASE a.ty_gubn\r\n                    WHEN 1 THEN '출금'\r\n                    WHEN 2 THEN '입금'\r\n                    WHEN 3 THEN '차변'\r\n                    WHEN 4 THEN '대변'\r\n                    WHEN 5 THEN '결차'\r\n                    WHEN 6 THEN '결대'\r\n                END AS nm_gubn, a.ty_gubn,\r\n                a.cd_acctit, a.key_acctit, b.nm_acctit,\r\n                CASE WHEN a.ty_gubn IN (1,2,3,5) THEN a.mn_bungae ELSE 0\r\n                      END AS mn_bungae1,\r\n                CASE WHEN a.ty_gubn IN (1,2,4,6) THEN a.mn_bungae ELSE 0\r\n                      END AS mn_bungae2,\r\n                a.no_acct, a.cd_deptemp, a.cd_field ,a.cd_pjt,\r\n                c.nm_deptemp as nm_dept ,d.nm_field ,e.nm_project,\r\n                a.cd_finance ,f.nm_fitem as nm_finance ,a.yn_card,\r\n                coalesce(g.nm_cardgb,1) as nm_cardgb,\r\n                a.cd_jepum ,h.nm_goods as nm_jepum ,a.cd_bjoh ,\r\n                i.nm_bjoh ,a.nm_linecolor ,a.yn_use, a.ty_copy ,\r\n                a.no_exter2 ,a.ty_bungae ,a.nm_memot ,a.nm_memo ,\r\n                a.sq_bungae, a.no_car ,a.no_carbody ,a.dt_insert,\r\n                a.sq_sbguid\r\n    * */\r\n    var columns = [\r\n        {\r\n            name : \"da_date\",\r\n            fieldName : \"da_date\",\r\n            visible : false\r\n        },\r\n        {\r\n            name : \"sq_acttax2\",\r\n            fieldName : \"sq_acttax2\",\r\n            visible : false,\r\n            editable : false\r\n        },\r\n        {\r\n            name: \"day\",\r\n            fieldName: \"day\",\r\n            header: {\r\n                text: \"일\"\r\n            },\r\n            required: true,\r\n            requiredLevel: \"info\",\r\n            requiredMessage: \"일자는 반드시 입력해야 합니다.\",\r\n            editor: {\r\n                type: \"number\",\r\n                maxLength: 2,\r\n                positiveOnly: true\r\n            },\r\n            styles: {\r\n                textAlignment: \"center\"\r\n            },\r\n            dynamicStyles: [\r\n                {\r\n                    criteria: \"values['ty_gubn'] % 2 = 1\",\r\n                    styles: {\r\n                        figureBackground: \"#ff0000ff\",\r\n                        foreground: \"#ffff0000\"\r\n                    },\r\n                },\r\n                {\r\n                    criteria: \"values['ty_gubn'] % 2 = 0\",\r\n                    styles: {\r\n                        figureBackground: \"#ff0000ff\",\r\n                        foreground: \"#000fff\"\r\n                    }\r\n                }\r\n            ],\r\n            width: 50\r\n        },\r\n        {\r\n            name: \"no_acct\",\r\n            fieldName: \"no_acct\",\r\n            header: {\r\n                text: \"번호\"\r\n            },\r\n            styles : {\r\n\r\n            },\r\n            editable : false,\r\n            readonly : true,\r\n            width: 60\r\n        },\r\n        {\r\n            name: \"cd_trade\",\r\n            fieldName: \"cd_trade\",\r\n            header: {\r\n                text: \"코드\"\r\n            },\r\n            editor : {\r\n                maxLength : 5\r\n            },\r\n            width: 70\r\n        },\r\n        {\r\n            name: \"nm_trade\",\r\n            fieldName: \"nm_trade\",\r\n            header: {\r\n                text: \"거래처명\"\r\n            },\r\n            editor : {\r\n                maxLength : 5\r\n            },\r\n            styles:{\r\n                textAlignment: \"near\"\r\n            },\r\n            width: 100\r\n        },\r\n        {\r\n            name: \"ty_gubn\",\r\n            fieldName: \"ty_gubn\",\r\n            header: {\r\n                text: \"구분\"\r\n            },\r\n            required: true,\r\n            requiredLevel: \"info\",\r\n            requiredMessage: \"구분은 반드시 입력해야 합니다.\",\r\n            values: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"],\r\n            labels: [\"출금\", \"입금\", \"차변\", \"대변\", \"결차\", \"결대\"],\r\n            editor: {\r\n                type: \"dropDown\",\r\n                dropDownCount: 6,\r\n                dropDownPosition: \"button\",\r\n                partialMatch: \"true\"\r\n            },\r\n            dynamicStyles: [\r\n                {\r\n                    criteria: \"value % 2 = 1\",\r\n                    styles: {\r\n                        figureBackground: \"#ff0000ff\",\r\n                        foreground: \"#ffff0000\"\r\n                    },\r\n                },\r\n                {\r\n                    criteria: \"value % 2 = 0\",\r\n                    styles: {\r\n                        figureBackground: \"#ff0000ff\",\r\n                        foreground: \"#000fff\"\r\n                    }\r\n                }\r\n            ],\r\n            lookupDisplay : true,\r\n            styles: {\r\n                textAlignment: \"center\"\r\n            },\r\n            width: 50\r\n        },\r\n        {\r\n            name: \"key_acctit\",\r\n            fieldName: \"key_acctit\",\r\n            visible : false,\r\n            editable : false\r\n        },\r\n        {\r\n            name: \"cd_acctit\",\r\n            fieldName: \"cd_acctit\",\r\n            header: {\r\n                text: \"코드\"\r\n            },\r\n            required: true,\r\n            requiredLevel: \"info\",\r\n            requiredMessage: \"계정과목 코드는 반드시 입력해야 합니다.\",\r\n            editor : {\r\n                maxLength : 5\r\n            },\r\n            width: 70\r\n        },\r\n        {\r\n            name: \"nm_acctit\",\r\n            fieldName: \"nm_acctit\",\r\n            header: {\r\n                text: \"계정과목\"\r\n            },\r\n            editor : {\r\n                maxLength : 5\r\n            },\r\n            styles: {\r\n                textAlignment: \"near\",\r\n                numberFormat: \"#,##0\"\r\n            },\r\n            editable : false,\r\n            width: 150\r\n        },\r\n        {\r\n            name: \"cd_remark\",\r\n            fieldName: \"cd_remark\",\r\n            header: {\r\n                text: \"코드\"\r\n            },\r\n            editor : {\r\n                maxLength : 2\r\n            },\r\n            width: 50\r\n        },\r\n        {\r\n            name: \"nm_remark\",\r\n            fieldName: \"nm_remark\",\r\n            header: {\r\n                text: \"적요\"\r\n            },\r\n            editor : {\r\n                maxLength : 100\r\n            },\r\n            styles:{\r\n                textAlignment: \"near\"\r\n            },\r\n            width: 200\r\n        },\r\n        {\r\n            name: \"mn_bungae1\",\r\n            fieldName: \"mn_bungae1\",\r\n            header: {\r\n                text: \"차변(출금)\"\r\n            },\r\n            editor: {\r\n                maxLength: 17\r\n            },\r\n            styles: {\r\n                textAlignment: \"far\",\r\n                numberFormat: \"#,##0\"\r\n            },\r\n            dynamicStyles: [{\r\n                criteria: \"values['ty_gubn'] = 4 OR values['ty_gubn'] = 6\",\r\n                styles: \"background=#EAEAEA\"\r\n            },\r\n            {\r\n                criteria: \"values['mn_bungae1'] = 0\",\r\n                styles: \"foreground=#EAEAEA\"\r\n            }],\r\n            width: 100,\r\n            footer: {\r\n                styles: {\r\n                    textAlignment: \"far\",\r\n                    numberFormat: \"#,##0\",\r\n                    font: \"Arial,12\"\r\n                },\r\n                text: \"합계\",\r\n                expression: \"sum\",\r\n                groupText: \"합계\",\r\n                groupExpression: \"sum\"\r\n            }\r\n        },\r\n        {\r\n            name: \"mn_bungae2\",\r\n            fieldName: \"mn_bungae2\",\r\n            header: {\r\n                text: \"대변(입금)\"\r\n            },\r\n            editor: {\r\n                maxLength: 17\r\n            },\r\n            styles: {\r\n                textAlignment: \"far\",\r\n                numberFormat: \"#,##0\"\r\n            },\r\n            dynamicStyles: [{\r\n                criteria: \"values['ty_gubn'] = 3 OR values['ty_gubn'] = 5\",\r\n                styles: \"background=#EAEAEA\"\r\n            },\r\n            {\r\n                criteria: \"values['ty_gubn'] <= 2\",\r\n                styles: \"background=#EAEAEA;foreground=#EAEAEA\"\r\n            },\r\n            {\r\n                criteria: \"values['mn_bungae2'] = 0\",\r\n                styles: \"foreground=#EAEAEA\"\r\n            }],\r\n            width: 100,\r\n            footer: {\r\n                styles: {\r\n                    textAlignment: \"far\",\r\n                    numberFormat: \"#,##0\",\r\n                    font: \"Arial,12\"\r\n                },\r\n                text: \"합계\",\r\n                expression: \"sum\",\r\n                groupText: \"합계\",\r\n                groupExpression: \"sum\"\r\n            }\r\n        },\r\n        {\r\n            name: \"cd_bjoh\",\r\n            fieldName: \"cd_bjoh\",\r\n            header: {\r\n                text: \"관리\"\r\n            },\r\n            editable : false,\r\n            readonly: true,\r\n            width: 40\r\n        }\r\n    ];\r\n    gridView.setColumns(columns);\r\n}\r\n\r\nfunction setStyles(grid) {\r\n\r\n    //gridViewStyles()는 gridViewStyles.js에 있는 함수임(html에 스트립트 추가함)\r\n    grid.setStyles(gridViewStyles());\r\n};\r\n\r\nfunction setOptions() {\r\n    //개별 옵션 적용 가능 하나, 나는 아래처럼 뭉탱이로 하겠다. 한군데에 깔끔하게!\r\n    gridView.setOptions({\r\n        panel: {visible: false},\r\n        indicator: {visible: false},\r\n        checkBar: {visible: true},\r\n        stateBar: {visible: false}\r\n    });\r\n\r\n    gridView.setEditOptions({\r\n        //insertable: true,\r\n        //appendable: true,\r\n        //deletable: true,\r\n        commitWhenExitLast : true,\r\n        crossWhenExitLast : true\r\n\r\n    })\r\n};\r\n\r\n// gridview callback method\r\nfunction setGridCallbackFunc() {\r\n    //GridView와 연결된 이벤트\r\n    gridView.onCurrentRowChanged = function (grid, oldRow, newRow) {\r\n        // 최초 입력시에만 수정가능하도록\r\n        //var isNew = (newRow < 0) || dataProvider.getRowState(newRow) === \"created\";\r\n\r\n        //if (!RealGridJS.isMobile())\r\n        //    grid.setColumnProperty(\"cd_deptemp\", \"editable\", isNew);\r\n\r\n        if (newRow > -1) {\r\n            if (dataProvider.getRowState(newRow) === \"created\") {\r\n                grid.setColumnProperty(\"mn_bungae1\", \"editable\", true);\r\n                grid.setColumnProperty(\"mn_bungae2\", \"editable\", true);\r\n            }\r\n            else {\r\n                var editable = dataProvider.getValue(newRow, \"ty_gubn\") == 4 || dataProvider.getValue(newRow, \"ty_gubn\") == 6\r\n                grid.setColumnProperty(\"mn_bungae1\", \"editable\", !editable);\r\n                grid.setColumnProperty(\"mn_bungae2\", \"editable\", editable);\r\n            }\r\n        }\r\n    }\r\n\r\n    //편집이 끝나면 다음 셀로 이동시키기\r\n    gridView.onCellEdited = function (grid, itemIndex, dataRow, field) {\r\n\r\n        var focusCell = gridView.getCurrent();\r\n\r\n        MakeDicDataForUpdate(focusCell.fieldName, dataRow);\r\n\r\n        if (focusCell.fieldName == \"mn_bungae1\" || focusCell.fieldName == \"mn_bungae2\") {\r\n\r\n            gridView.commit();\r\n            InsertSlip(gridView, dataProvider, itemIndex, dataRow);\r\n        }\r\n        else if(focusCell.fieldName == \"nm_remark\") {\r\n            var flag = findFieldValue(\"ty_gubn\", dataRow) == 4 || findFieldValue(\"ty_gubn\", dataRow) == 6\r\n            if(flag) {\r\n                focusCell.column = \"mn_bungae2\";\r\n                focusCell.fieldName = \"mn_bungae2\";\r\n            }\r\n            else{\r\n                focusCell.column = \"mn_bungae1\";\r\n                focusCell.fieldName = \"mn_bungae1\";\r\n            }\r\n        }\r\n        else {\r\n            let colNames = gridView.getColumnNames(true);\r\n            let nextColName = colNames[0];\r\n            for (let i = 0; i < colNames.length; i++) {\r\n                if (colNames[i] == focusCell.fieldName) {\r\n                    for(let j = i + 1; j < colNames.length; j++){\r\n                        if(gridView.getColumnProperty(colNames[j], 'editable')) {\r\n                            nextColName = colNames[j];\r\n                            j = colNames.length;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            focusCell.column = nextColName;\r\n            focusCell.fieldName = nextColName;\r\n        }\r\n        //포커스된 셀 변경\r\n        gridView.setCurrent(focusCell);\r\n    }\r\n\r\n    gridView.onKeyDown = function (grid, key, ctrl, shift, alt) {\r\n\r\n        //enter(13) or right arrow(39)\r\n        //참고사이트(입력키에대한 값을 알려줌)\r\n        //https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes\r\n        if (key === 13 || key === 39) {\r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction MakeDicDataForUpdate(pCellName, dataRow) {\r\n    let dicName;\r\n    let dicVal;\r\n    switch (pCellName) {\r\n        case \"day\":\r\n            dicVal = getdaDate(\"\", findFieldValue('day', dataRow), dataRow);\r\n            dicName = \"da_date\";\r\n            break;\r\n        case \"mn_bungae1\":\r\n        case \"mn_bungae2\":\r\n            dicVal = getmnBungae(findFieldValue('ty_gubn', dataRow), dataRow);\r\n            dicName = \"mn_bungae\";\r\n            break;\r\n        default:\r\n            dicVal = findFieldValue(pCellName, dataRow);\r\n            dicName = pCellName;\r\n            break;\r\n    }\r\n\r\n    dicEditCell[dicName] = dicVal;\r\n}\r\n// provider callback method\r\nfunction setProviderCallbackFunc() {\r\n    //provider에 연결된 이벤트\r\n    dataProvider.onRowUpdated = function (provider, row) {\r\n        let sqActtax2 = findFieldValue(\"sq_acttax2\", row);\r\n        if (sqActtax2 != null && (provider.getRowState(row) !== \"created\")) {\r\n            if (Object.keys(dicEditCell).length > 0) {\r\n                callUpdateAPI(sqActtax2)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//개발자가 필요에 의해 추가한 이벤트\r\nfunction findFieldIndex(fields, fieldName) {\r\n        for (var i = 0; i < fields.length; i++) {\r\n            if (fields[i].fieldName.toUpperCase() == fieldName.toUpperCase())\r\n                return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n//현재 Row의 pfieldName에 해당하는 값 return\r\nfunction findFieldValue(pfieldName, rowIndex) {\r\n\r\n    //var itemIndex = gridView.getCurrent().itemIndex;\r\n    var fields = dataProvider.getFields();\r\n\r\n    var fieldIndex = findFieldIndex(fields, pfieldName);\r\n    var value = gridView.getValue(rowIndex, fieldIndex);\r\n\r\n    if (value != undefined && value.toString().length > 0)\r\n        return value;\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction InsertSlip(grid, provider, itemIndex, datarow) {\r\n    if (grid.getValues(itemIndex) != undefined && (provider.getRowState(datarow) === \"created\")) {\r\n        //insert API\r\n        callInsertAPI(grid, provider, itemIndex, datarow);\r\n    }\r\n}\r\n\r\nfunction SetProviderNewRow(grid, provider) {\r\n    var row = provider.addRow({});\r\n    grid.setCurrent({dataRow: row});\r\n}\r\n\r\nfunction getdaDate(pMon, pDay, itemIndex) {\r\n    var value = \"201301\";//findFieldValue(\"da_date\", itemIndex);\r\n    var rtnVal = \"\";\r\n    if(value!= null && value.length == 6 && pDay != \"\"){\r\n        if(pMon == \"\")\r\n            rtnVal = value.substring(0,6) + padLeft(pDay, 2, '0');\r\n        else\r\n            rtnVal = value.substring(0,4) + padLeft(pMon, 2, '0') + padLeft(pDay, 2, '0');\r\n    }\r\n\r\n    if(rtnVal != undefined && rtnVal.length == 8)\r\n        return rtnVal;\r\n    else\r\n        return rtnVal;\r\n}\r\n\r\nfunction getmnBungae(ptyGubn, itemIndex) {\r\n\r\n    let mnBungae;\r\n    if(ptyGubn == 2 || ptyGubn == 4)\r\n        mnBungae = findFieldValue('mn_bungae2', itemIndex);\r\n    else\r\n        mnBungae = findFieldValue('mn_bungae1', itemIndex);\r\n\r\n    if(mnBungae != undefined && mnBungae > 0)\r\n        return mnBungae;\r\n    else\r\n        return 0;\r\n}\r\n\r\nfunction CheckInputValue(pCheckParam) {\r\n    let rtnFlag = true;\r\n    for(let key in pCheckParam){\r\n        switch (key){\r\n            case \"da_date\": {\r\n                if (pCheckParam[key] == undefined || pCheckParam[key].length != 8) {\r\n                    //rtnFlag = false;\r\n                    return rtnFlag;\r\n                }\r\n\r\n            }\r\n            case \"cd_acctit\": {\r\n                if (pCheckParam[key] == undefined || pCheckParam[key].length != 5) {\r\n                    //rtnFlag = false;\r\n                    return rtnFlag;\r\n                }\r\n            }\r\n            case \"key_acctit\":\r\n            case \"mn_bungae\": {\r\n                if (pCheckParam[key] == undefined || pCheckParam[key].length <= 0) {\r\n                    return rtnFlag;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return rtnFlag;\r\n}\r\n\r\nfunction padLeft(nr, n, str){\r\n    return Array(n-String(nr).length+1).join(str||'0')+nr;\r\n}\r\n\r\n//API 관련 Method [select, insert, update, delete]\r\nfunction LoadData() {\r\n    $.ajax({\r\n        url: sUrl + \"from_date/\" + '20130101' + '/to_date/' + '20130131' + '/',\r\n        contentType: 'application/json'\r\n    })\r\n        .success(function (response) {\r\n\r\n            dataProvider.setRows(response.data.data);\r\n            gridView.setFocus();\r\n        })\r\n        .complete(function (response) {\r\n            SetProviderNewRow(gridView, dataProvider)\r\n        });\r\n}\r\n\r\nfunction callInsertAPI(grid, provider, itemIndex, datarow) {\r\n    //한번더 검증 & insert api 만들\r\n    let daDate = getdaDate(\"\", findFieldValue('day', datarow), datarow);\r\n\r\n    let param = {};\r\n    param.da_date = daDate;\r\n    param.ty_gubn = findFieldValue('ty_gubn', datarow);\r\n    //findFieldValue('key_acctit', datarow);\r\n    param.cd_acctit = findFieldValue('cd_acctit', datarow);\r\n    param.key_acctit = \"2007010111010\" + param.cd_acctit; //이부분은 코드도움에서 받자\r\n    param.mn_bungae = getmnBungae(param.ty_gubn, datarow);\r\n    param.cd_trade = findFieldValue('cd_trade', datarow);\r\n    param.nm_trade = findFieldValue('nm_trade', datarow);\r\n    param.cd_remark = findFieldValue('cd_remark', datarow);\r\n    param.nm_remark = findFieldValue('nm_remark',datarow);\r\n\r\n    if (CheckInputValue(param)) {\r\n        $.ajax({\r\n            url: sUrl,\r\n            type: \"POST\",\r\n            dataType: \"json\",\r\n            data: param\r\n        })\r\n            .success(function (response) {\r\n                //provider.insertRow([]);\r\n                //provider.insertRow(pInsertData);\r\n                if(response.status == 200) {\r\n                    provider.setValue(datarow, \"no_acct\", response.data.data[0].no_acct);\r\n                    provider.setValue(datarow, \"sq_acttax2\", response.data.data[0].sq_acttax2);\r\n                    provider.setValue(datarow, \"sq_bungae\", response.data.data[0].sq_bungae);\r\n\r\n                    provider.setRowState(datarow, \"none\", true); //상태변경\r\n                    SetProviderNewRow(grid, provider); //한줄추가\r\n                }\r\n            })\r\n            .complete(function (response) {\r\n                //SetProviderNewRow(gridView, dataProvider)\r\n            });\r\n    }\r\n    else {\r\n        alert(\"[callInsertAPI] : Check Require insertValue\")\r\n    }\r\n}\r\n\r\nfunction callUpdateAPI(pSqActtax2) {\r\n    //한번더 검증 & insert api 만들\r\n    if(pSqActtax2 != null && pSqActtax2.toString().length > 0 && dicEditCell != undefined && Object.keys(dicEditCell).length > 0) {\r\n        if (CheckInputValue(dicEditCell)) {\r\n            let param = [];\r\n            for (let item in dicEditCell) {\r\n                param.push({column: item, value: dicEditCell[item]})\r\n            }\r\n            $.ajax({\r\n                url: sUrl,\r\n                type: \"PUT\",\r\n                dataType: \"json\",\r\n                contentType: 'application/json', //API 에서 param 인식을 위해 필수!\r\n                data: JSON.stringify({sq_acttax2: pSqActtax2, update: param})\r\n                //JSON.stringify() : API 에 data를 json 형식으로 전달하기위해 필수\r\n            })\r\n                .success(function (response) {\r\n                    dicEditCell = {}\r\n                })\r\n                .complete(function (response) {\r\n                    dicEditCell = {}\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nfunction callDeleteAPI() {\r\n    //한번더 검증 & insert api 만들\r\n    let rows = gridView.getCheckedRows(true);\r\n    let param = [];\r\n    for (let item in rows) {\r\n        let sqActtax2 = findFieldValue(\"sq_acttax2\", rows[item]);\r\n        if (sqActtax2 != null && (dataProvider.getRowState(rows[item]) !== \"created\")) {\r\n            param.push(sqActtax2)\r\n        }\r\n    }\r\n    if (param.length > 0) {\r\n        $.ajax({\r\n            url: sUrl,\r\n            type: \"DELETE\",\r\n            dataType: \"json\",\r\n            contentType: 'application/json', //API 에서 param 인식을 위해 필수!\r\n            data: JSON.stringify({sq_acttax2: param})\r\n            //data: param\r\n            //JSON.stringify() : API 에 data를 json 형식으로 전달하기위해 필수\r\n        })\r\n            .success(function (response) {\r\n                dicEditCell = {}\r\n                if (response.status == 200) {\r\n                    dataProvider.removeRows(rows);\r\n                }\r\n            })\r\n            .complete(function (response) {\r\n                dicEditCell = {}\r\n            });\r\n    }\r\n}\r\n\r\n\r\n"]}